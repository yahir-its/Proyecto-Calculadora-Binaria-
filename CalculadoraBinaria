import java.util.Scanner;

public class Conversiones {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        System.out.println("Selecciona la conversión:");
        System.out.println("1. Decimal a Binario");
        System.out.println("2. Binario a Decimal");
        int opcion = scanner.nextInt();
        
        if (opcion == 1) {
            System.out.print("Ingresa un número decimal (entero positivo): ");
            int decimal = scanner.nextInt();
            if (decimal < 0) {
                System.out.println("Error: Solo números positivos.");
                return;
            }
            String binario = decimalABinario(decimal);
            System.out.println("Binario: " + binario);
        } else if (opcion == 2) {
            System.out.print("Ingresa un número binario (solo 0s y 1s): ");
            String binario = scanner.next();
            if (!esBinarioValido(binario)) {
                System.out.println("Error: Solo 0s y 1s.");
                return;
            }
            int decimal = binarioADecimal(binario);
            System.out.println("Decimal: " + decimal);
        } else {
            System.out.println("Opción inválida.");
        }
        
        scanner.close();
    }
   
    public static String decimalABinario(int n) {
        if (n == 0) return "0";
        StringBuilder binario = new StringBuilder();
        while (n > 0) {
            int residuo = n % 2;
            binario.insert(0, residuo);
            n = n / 2;
        }
        return binario.toString();
    }
  
    public static int binarioADecimal(String binario) {
        int decimal = 0;
        int longitud = binario.length();
        for (int i = 0; i < longitud; i++) {
            int bit = binario.charAt(longitud - 1 - i) - '0';  // Obtener bit de derecha a izquierda
            decimal += bit * (int) Math.pow(2, i);
        }
        return decimal;
    }
    
   
    public static boolean esBinarioValido(String binario) {
        for (char c : binario.toCharArray()) {
            if (c != '0' && c != '1') return false;
        }
        return true;
    }
}
